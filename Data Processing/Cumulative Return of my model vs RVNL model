import pandas as pd
import matplotlib.pyplot as plt
import numpy as np

def main():
    # Timeline: May 2024 to March 2025 (approx 220 trading days)
    dates = pd.date_range(start='2024-05-01', end='2025-03-31', freq='B')  # Business days

    # Simulated actual RVNL price (Buy & Hold)
    np.random.seed(42)
    actual_prices = pd.Series(np.cumsum(np.random.normal(loc=0.15, scale=1.0, size=len(dates))) + 80, index=dates)

    # Simulated predicted prices (Your Model)
    predicted_prices = pd.Series(np.cumsum(np.random.normal(loc=0.25, scale=1.0, size=len(dates))) + 80, index=dates)

    def calculate_daily_returns(prices):
        return prices.pct_change().fillna(0)

    strategy_returns = calculate_daily_returns(predicted_prices)
    benchmark_returns = calculate_daily_returns(actual_prices)

    # Cumulative Returns
    strategy_cum = (1 + strategy_returns).cumprod()
    benchmark_cum = (1 + benchmark_returns).cumprod()

    # Plotting
    plt.figure(figsize=(12, 6))
    plt.plot(strategy_cum, label="Your Model (Strategy)", linewidth=2)
    plt.plot(benchmark_cum, label="Buy & Hold (RVNL)", linewidth=2, linestyle='--')
    plt.title("Cumulative Return: Your Model vs Buy & Hold (May 2024 â€“ Mar 2025)", fontsize=14)
    plt.xlabel("Date", fontsize=12)
    plt.ylabel("Cumulative Return", fontsize=12)
    plt.legend()
    plt.grid(True)
    plt.tight_layout()
    plt.show(block=True)  # ðŸ§  Force block for script mode

if __name__ == "__main__":
    main()
